(this.webpackJsonpfakestore=this.webpackJsonpfakestore||[]).push([[0],{244:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(35),c=a.n(s),o=a(4),i=a(5),l=a(7),u=a(9),p=a(11),j=(a(118),a(18)),d=a(28),h=a.n(d),b=a(41),O=a(59),x=a(43),g=a(246),m=a(36),f=a.n(m),k=a(2),v=O.a().shape({username:O.b().required("Required"),password:O.b()}),A={username:"",password:""},y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleSubmit=function(){var t=Object(b.a)(h.a.mark((function t(a){var r,n,s,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.username,""===(n=a.password)&&(n=" "),t.next=4,f.a.post("https://fakestoreapi.com/auth/login",{username:r,password:n});case 4:s=t.sent,(c=s.data).token?(localStorage.setItem("token",c.token),e.setState({status:"SUCCESS"}),e.findName(r)):e.setState({status:"FAILURE"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={status:"PENDING"},e}return Object(i.a)(a,[{key:"findName",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,n,s,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://fakestoreapi.com/users");case 2:a=e.sent,r=a.data,n="?????",s=Object(j.a)(r),e.prev=6,s.s();case 8:if((c=s.n()).done){e.next=15;break}if((o=c.value).username!==t){e.next=13;break}return n="".concat(o.name.firstname," ").concat(o.name.lastname),e.abrupt("break",15);case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:localStorage.setItem("name",n),this.props.update();case 25:case"end":return e.stop()}}),e,this,[[6,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={spaced:{marginTop:"25px"},error:{color:"red"}};return Object(k.jsxs)("div",{style:{padding:"25vh 25vw"},children:["SUCCESS"===this.state.status?Object(k.jsx)(p.a,{to:{pathname:"/",props:{token:localStorage.getItem("token")}}}):null,Object(k.jsx)(x.c,{initialValues:A,validationSchema:v,onSubmit:function(t){return e.handleSubmit(t)},children:function(a){var r=a.errors,n=a.touched;return Object(k.jsxs)(x.b,{children:[Object(k.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(k.jsx)(x.a,{name:"username",className:"form-control"}),r.username&&n.username?Object(k.jsx)("div",{style:t.error,children:r.username}):null,Object(k.jsxs)("label",{htmlFor:"password",className:"form-label",style:t.spaced,children:["Password ",Object(k.jsx)("small",{className:"text-secondary",children:"(Optional)"})]}),Object(k.jsx)(x.a,{name:"password",className:"form-control"}),r.password&&n.password?Object(k.jsx)("div",{style:t.error,children:r.password}):null,Object(k.jsx)(g.a,{type:"submit",style:t.spaced,children:"Log In"}),"FAILURE"===e.state.status?Object(k.jsx)("div",{style:t.error,children:"Incorrect username or password"}):null]})}})]})}}]),a}(r.Component),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("token"),this.props.update()}},{key:"render",value:function(){return Object(k.jsx)("div",{children:Object(k.jsx)(p.a,{to:{pathname:"/login"}})})}}]),a}(r.Component),I=a(247),Q=a(248),S=a(252);function U(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}var C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(k.jsxs)(S.a,{style:{width:"250px"},children:[Object(k.jsx)(S.a.Img,{style:{maxHeight:"200px",objectFit:"contain"},variant:"top",src:this.props.product.image}),Object(k.jsxs)(S.a.Body,{children:[Object(k.jsx)(S.a.Title,{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:this.props.product.title}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)(S.a.Text,{className:"text-secondary",children:U(this.props.product.category)}),Object(k.jsx)(S.a.Text,{className:"text-success",style:{marginLeft:"auto"},children:this.props.product.price})]}),Object(k.jsx)(S.a.Text,{children:this.props.product.description})]})]})}}]),a}(r.Component),K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAACICAYAAABEBa3zAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUSSURBVHhe7dyxqxxFHMDxl7MJMYKFEIWkC4h/QLpYvEKIhV1SKKSzCbFQIX9DrKKFWlnYpYhgYZFAihTaiRBIEQNpAoEoiCJREYKJv+/ezGXe3u7dzuzO7Mxv7gs/Zu8gcPdh7va9l7s9JO25Hbr49CVz2PTsi8Vjc1hlKyADc725sd7btUI1QC2cV8zq9ptMlUgLs27CIe6/3n751dBCnvRr5rgL57gzVSLZHdSHQy+aeV2mOiQL1M7FcasOqQuoD8dWFdJCzkyPzLFbH46tGiS7g/bN6lMVSA2Q2UUW6aFZh6QeafUe1EK6Z9YhqUY68Ca9Q1pv7Sy2QzrYGhDtkJ7XCUQ7pGW9QLRD2gJEtSNtBaKakQYBUa1Ig4GoRiQvIKoNyRuIakIKAqJakIKBqAakUUCkHWk0EGlGmgSItCJNBkQakSYFIm1IkwORJqQoQKQFKRoQaUCKCkSlI0UHopKRkgBRqUjJgKhEpKRAVBpSciAqCWkWICoFaTYgKgFpViDKHWl2IMoZKQsgyhUpGyDKESkrIMoNKTsgygkpSyDKBSlbIMoBKWsgmhspeyCaE6kIIJoLqRggmgOpKCBKjVQcEKVEKhKIUiEVC0QpkIoGothIxQNRTCQVQBQLSQ0QxUBSBURTI60ubqIteZJcUeLW8lbz5If2r8xPMs21StTtINuInXRY5g2Z5nomaneQLXAnsYseyJxSD0QBSAD9I3NX7UvMLeDlxsuMjlYBZAKJC0UN3UFHZF6tCcj2q1k3xQ7iJabv56Cu5D2I5RuZkzLHuLEldhD9UsNZjAWc0zJDcAigP2X2VQM5OGdktl3yx+13mSfy5q73PWgEDrvniUxz1lO5g8buHJl92T13uUMd0Agce3Zb4ZCql9jUOKQGaATO32ZdwyFNO+hrmRCcv2Q6cUgFkOyez2Q5KxOyc97qw6HigQzO+zIhOPxR7I457qzos5jB+UDmheaOYbk435vj3ordQSlwqEigVDhUHFBKHCoKKDUOFQMUiPOfWYNwqAggwbkkSwgOv5kH41D2QILzkSyXZUJ2zvkxOJQ1kMG5IhOC867gfGuOg8sWyMHxycW5Zo5HlSVQLjiUHVBOOJQVUG44lA1QII4tCg5l8du84FyQ5cvlLa/YPdFwaHYgwTkny1UZn1O57T3B4d9Ga9aX2Eicj2Pj0GxADk5I4HxqjqM2C1ALx3f3JMOh5EAl4VBSoNJwKBlQiTiUBGgEDj/nzIZD0X8OEhw+RnJzecsb59KcOBR1BwnOm7J8t7zljfPJ3DgUbQcZHD6tzgcifXE+F5wPlzfnLcoOcnCoWByaHKiF4/P/5dnh0KRA2nBoMiCNODQJkFYcGn0WG4HDfwl/lTMOjQISHL54xteMjsqow6Hgl9hInBsy2eNQEJCDQyE4Z2X3NHfknvejbOEM/XIIFYdDXo+0Nhwa/GhrxKFBj7hWHNp6mh+Bw/cffpApFoc2AgnOCVl+XN6qD4d6H73g8F1z+5dAX5zbMsXjUOczMDi8rF6W8cW5L3NOAw6tPQsHh0Jw+NDk4+YeBR0AauH4XDFFJQ6tgHY43TVALZzjZh2SahyyO8ji+KQehxZm97TjJ+BNcQUV9Ti0dhaTHpq1DwkcrqKiHoe6gKgPyV57550acKgPiFwkxuLwDeE/zLH6mt/F5H3oZ3N7W+BwoaJqsjvIXr5qU9XhUANknvgmpCpxaO3PHe3Tfq0wy/b2/gcSGQCt5yETRgAAAABJRU5ErkJggg==",B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).getProducts=function(){var t=Object(b.a)(h.a.mark((function t(a){var r,n,s,c,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=null,t.t0=a,t.next=1===t.t0?4:2===t.t0?8:12;break;case 4:return t.next=6,f.a.get("https://fakestoreapi.com/products?limit=15");case 6:return r=t.sent,t.abrupt("break",14);case 8:return t.next=10,f.a.get("https://fakestoreapi.com/products?limit=5&sort=desc");case 10:return r=t.sent,t.abrupt("break",14);case 12:return alert("Don't do that"),t.abrupt("return");case 14:n=r.data,s=Object(j.a)(n);try{for(s.s();!(c=s.n()).done;)(o=c.value).description=(l=o.description,u=100,l.length>u?l.slice(0,u-3)+"...":l),o.price=(i=o.price,"$".concat(i).concat(i!==Math.floor(i)&&100*i%10===0?"0":""))}catch(p){s.e(p)}finally{s.f()}e.setState({products:n});case 18:case"end":return t.stop()}var i,l,u}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={products:[],page:1},e}return Object(i.a)(a,[{key:"setPage",value:function(e){this.state.page!==e&&(this.setState({page:e}),this.getProducts(e))}},{key:"componentDidMount",value:function(){this.getProducts(1)}},{key:"render",value:function(){var e=this,t={nextArrow:{position:"fixed",right:"25px",top:"50%",transform:"translate(0, -50%)"},prevArrow:{position:"fixed",left:"25px",top:"50%",transform:"translate(0, -50%) scale(-1, 1)"},nextArrowGray:{filter:"grayscale(90%)",position:"fixed",right:"25px",top:"50%",transform:"translate(0, -50%)"},prevArrowGray:{filter:"grayscale(90%)",position:"fixed",left:"25px",top:"50%",transform:"translate(0, -50%) scale(-1, 1)"}};return Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{onClick:function(){return e.setPage(2)},style:2===this.state.page?t.nextArrowGray:t.nextArrow,src:K,alt:"next"}),Object(k.jsx)("img",{onClick:function(){return e.setPage(1)},style:1===this.state.page?t.prevArrowGray:t.prevArrow,src:K,alt:"prev"}),Object(k.jsx)(I.a,{style:{width:"85%",marginLeft:"auto",marginRight:"auto",marginTop:"50px"},children:this.state.products.map((function(e){return Object(k.jsx)(Q.a,{style:{marginBottom:"55px"},children:Object(k.jsx)(C,{product:e})},e.id)}))})]})}}]),a}(r.Component),D=a(250),F=a(249),H=a(251),N=a(20),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(k.jsx)("div",{children:Object(k.jsx)(D.a,{bg:"dark",variant:"dark",children:Object(k.jsx)(F.a,{children:Object(k.jsx)(H.a,{className:"me-auto",children:localStorage.getItem("token")?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(D.a.Brand,{children:U(localStorage.getItem("name"))}),Object(k.jsx)(H.a.Link,{as:N.b,to:"/",children:"Home"}),Object(k.jsx)(H.a.Link,{as:N.b,to:"/logout",children:"Log Out"})]}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(H.a.Link,{as:N.b,to:"/login",children:"Log In"})})})})})})}}]),a}(r.Component),J=a(113),L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return localStorage.getItem("token")?Object(k.jsx)(p.b,Object(J.a)({},this.props)):Object(k.jsx)(p.a,{to:{pathname:"/login"}})}}]),a}(r.Component),R=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).update=function(){e.forceUpdate()},e.state={name:null},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)(E,{}),Object(k.jsxs)(p.d,{children:[Object(k.jsx)(p.b,{exact:!0,path:"/login",render:function(){return Object(k.jsx)(y,{update:e.update})}}),Object(k.jsx)(L,{exact:!0,path:"/logout",render:function(){return Object(k.jsx)(w,{update:e.update})}}),Object(k.jsx)(L,{exact:!0,path:"/",render:function(){return Object(k.jsx)(B,{})}}),Object(k.jsx)(p.b,{path:"/",render:function(){return 404}})]})]})}}]),a}(r.Component);c.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(N.a,{children:Object(k.jsx)(R,{})})}),document.getElementById("root"))}},[[244,1,2]]]);
//# sourceMappingURL=main.256f799b.chunk.js.map